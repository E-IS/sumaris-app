<app-toolbar [title]="$title | async" color="primary"
             [hasValidate]="!loading && dirty" (onValidate)="save($event)"
             [defaultBackHref]="defaultBackHref" [canGoBack]="true">
</app-toolbar>

<ion-content>
  <mat-tab-group dynamicHeight>

    <!-- TAB: general -->
    <mat-tab label="{{'VESSEL.TAB_GENERAL'|translate}}">
      <ng-template mat-tab-label>
        <ion-icon name="information-circle"></ion-icon>
        <ion-label translate>VESSEL.TAB_GENERAL</ion-label>
      </ng-template>

      <ion-row class="ion-no-padding">
        <ion-col class="ion-padding">
          <form-vessel (onSubmit)="save($event)" #vesselForm>
          </form-vessel>
        </ion-col>
        <ion-col size="12" size-sm="9" size-md="6" size-lg="4" size-xl="3" class="ion-no-padding">
          <entity-metadata [value]="data">

            <!-- Vessel actions -->

          </entity-metadata>
        </ion-col>
      </ion-row>
    </mat-tab>

    <mat-tab label="{{'VESSEL.TAB_HISTORY'|translate}}">
      <ng-template mat-tab-label>
        <ion-icon name="clock"></ion-icon>
        <ion-label translate>VESSEL.TAB_HISTORY</ion-label>
      </ng-template>

      <ion-row class="ion-no-padding">
        <ion-col class="ion-padding">
          <app-vessel-features-history-table #featuresHistoryTable>
          </app-vessel-features-history-table>
        </ion-col>
      </ion-row>
    </mat-tab>

  </mat-tab-group>

</ion-content>

<ion-footer hidden-xs hidden-sm hidden-mobile>
  <form-buttons-bar (onCancel)="cancel() " (onSave)="save($event) " [disabled]="!form.dirty || loading "></form-buttons-bar>
</ion-footer>
