<form class="form-container" [formGroup]="form" (ngSubmit)="doSubmit($event)">
  <ion-grid>
    <!--Sample row code-->
    <!--<ion-row>
      <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
        <ion-label>&nbsp;</ion-label>
      </ion-col>
      <ion-col>
          <mat-textwithmask-field  type="sampleRowCode"
                                  [placeholder]="'PLANIFICATION.SAMPLE_ROW_TITLE'|translate"
                                  [formControl]="form"
                                  [tabindex]="tabindex+1"
                                  [required]="true">
          </mat-textwithmask-field>
      </ion-col>
      <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
        <ion-label>&nbsp;</ion-label>
      </ion-col>
    </ion-row>-->


  <!--EOTP-->
  <ion-row>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label>&nbsp;</ion-label>
    </ion-col>
      <ion-col>
        <mat-autocomplete-field
          formControlName="eotp"
          [placeholder]="'PLANIFICATION.EOTP'|translate"
          [config]="autocompleteFields.eotp"
          [tabindex]="tabindex+1">

          <button matAfter type="button" mat-icon-button
              tabindex="-1"
              [disabled]="!canFilterEotp"
              [title]="'PLANIFICATION.BTN_FILTER'|translate"
              (click)="toggleFilteredEotp()"
              [color]="enableEotpFilter ? 'primary' : undefined">
              <mat-icon>filter_list</mat-icon>
          </button>
        </mat-autocomplete-field>

      </ion-col>
      <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
        <ion-label>&nbsp;</ion-label>
      </ion-col>
    </ion-row>

<!-- LABORATORY -->
<ion-row>
  <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
    <ion-label>&nbsp;</ion-label>
  </ion-col>
    <ion-col>
      <mat-autocomplete-field
        formControlName="laboratory"
        [placeholder]="'PLANIFICATION.LABORATORY'|translate"
        [config]="autocompleteFields.laboratory"
        [tabindex]="tabindex+1"
        [required]="true">
        <button matAfter type="button" mat-icon-button
          tabindex="-1"
          [disabled]="!canFilterLaboratory"
          [title]="'PLANIFICATION.BTN_FILTER'|translate"
          (click)="toggleFilteredLaboratory()"
          [color]="enableLaboratoryFilter ? 'primary' : undefined">
          <mat-icon>filter_list</mat-icon>
        </button>
        <button matAfter type="button" mat-icon-button tabindex="-1"
          [title]="'TRIP.BTN_ADD_VESSEL'|translate"
          (click)="add()">
          <mat-icon>add</mat-icon>
        </button>

        <!-- TEST -->
        <button matAfter type="button" mat-icon-button tabindex="-1"
                [title]="'TRIP.BTN_ADD_VESSEL'|translate"
                (click)="close()">
          <mat-icon>close</mat-icon>
        </button>

      </mat-autocomplete-field>
    </ion-col>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label>&nbsp;</ion-label>
    </ion-col>
  </ion-row>

   <!--FISHING AREA -->
   <ion-row>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label>&nbsp;</ion-label>
    </ion-col>
      <ion-col>
         <mat-autocomplete-field formControlName="fishingArea"
                                 [placeholder]="'PLANIFICATION.FISHING_AREA'|translate"
                                 [config]="autocompleteFields.fishingArea"
                                 [tabindex]="tabindex+1"
                                 [required]="true">
           <button matAfter type="button" mat-icon-button
              tabindex="-1"
              [disabled]="!canFilterFishingArea"
              [title]="'PLANIFICATION.BTN_FILTER'|translate"
              (click)="toggleFilteredFishingArea()"
              [color]="enableFishingAreaFilter ? 'primary' : undefined">
              <mat-icon>filter_list</mat-icon>
           </button>
           <mat-icon matPrefix>room</mat-icon>
           <button matAfter type="button" mat-icon-button tabindex="-1"
                  [title]="'TRIP.BTN_ADD_VESSEL'|translate"
                  (click)="add()">
            <mat-icon>add</mat-icon>
           </button>

          <!-- TEST -->
          <button matAfter type="button" mat-icon-button tabindex="-1"
                  [title]="'TRIP.BTN_ADD_VESSEL'|translate"
                  (click)="close()">
            <mat-icon>close</mat-icon>
          </button>
        </mat-autocomplete-field>
      </ion-col>
      <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
        <ion-label>&nbsp;</ion-label>
      </ion-col>
    </ion-row>

 <!-- LANDING AREA -->
 <ion-row>
  <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
    <ion-label>&nbsp;</ion-label>
  </ion-col>
  <ion-col>
    <mat-autocomplete-field
      formControlName="landingArea"
      [placeholder]="'PLANIFICATION.LANDING_PORT'|translate"
      [config]="autocompleteFields.landingArea"
      [tabindex]="tabindex+1"
      [required]="true">
      <button matAfter type="button" mat-icon-button
              tabindex="-1"
              [disabled]="!canFilterLandingArea"
              [title]="'PLANIFICATION.BTN_FILTER'|translate"
              (click)="toggleFilteredLandingArea()"
              [color]="enableLandingAreaFilter ? 'primary' : undefined">
              <mat-icon>filter_list</mat-icon>
      </button>
      <mat-icon matPrefix>room</mat-icon>
    </mat-autocomplete-field>
  </ion-col>
  <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
    <ion-label>&nbsp;</ion-label>
  </ion-col>
</ion-row>


<!-- Target species (using metier) -->
<ion-row>
  <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
  <ion-label>&nbsp;</ion-label>
</ion-col>
  <ion-col>
    <mat-autocomplete-field formControlName="taxonName"
                            [placeholder]="'PLANIFICATION.TARGET_SPECIE'|translate"
                            [config]="autocompleteFields.taxonName"
                            [tabindex]="tabindex+1"
                            [required]="true"
                            [noResultMessage]="'TRIP.OPERATION.EDIT.NO_TARGET_SPECIES_FOUND'">
      <button matAfter type="button" mat-icon-button
              tabindex="-1"
              [disabled]="!canFilterTaxonName"
              [title]="'PLANIFICATION.BTN_FILTER'|translate"
              (click)="toggleFilteredTaxonName()"
              [color]="enableTaxonNameFilter ? 'primary' : undefined">
        <mat-icon>filter_list</mat-icon>
      </button>
    </mat-autocomplete-field>
  </ion-col>
  <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
  <ion-label>&nbsp;</ion-label>
</ion-col>
</ion-row>


<!--year-->
<ion-row>
  <ion-col size="12" size-md="2" size-lg="3">
    <ion-label>&nbsp;</ion-label>
  </ion-col>
    <ion-col size="12" size-sm="auto">
      <mat-date-short-field [placeholder]="'PLANIFICATION.YEAR'|translate"
                            formControlName="year"
                            [required]="true" >
      </mat-date-short-field>
    </ion-col>
  </ion-row>

<!--quarters-->
<!-- Trimestre -->
<ion-row>
  <ion-col size="12" size-md="2" size-lg="3">
    <ion-label class="ion-float-end" translate>PLANIFICATION.EFFORT</ion-label>
  </ion-col>
  <!-- T1 -->
  <ion-col size="1">
    <mat-form-field>
      <input matInput type="number" step="1" min="0" autocomplete="off"  [placeholder]="'PLANIFICATION.QUARTER_1'|translate"
             >
    </mat-form-field>
  </ion-col>

   <!-- T2 -->
   <ion-col size="1">
    <mat-form-field>
      <input matInput type="number" step="1" min="0" autocomplete="off"  [placeholder]="'PLANIFICATION.QUARTER_2'|translate"
             >
    </mat-form-field>
  </ion-col>
 <!-- T3 -->
 <ion-col size="1">
  <mat-form-field>
    <input matInput type="number" step="1" min="0" autocomplete="off"  [placeholder]="'PLANIFICATION.QUARTER_3'|translate"
          >
  </mat-form-field>
</ion-col>

 <!-- T4 -->
 <ion-col size="1">
  <mat-form-field>
    <input matInput type="number" step="1" min="0" autocomplete="off"  [placeholder]="'PLANIFICATION.QUARTER_4'|translate"
            >
  </mat-form-field>
</ion-col>
</ion-row>


    <ion-row>
      <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
        <h2>
          <ion-label class="ion-float-end" translate>PLANIFICATION.PARAMETERS_TITLE</ion-label>
        </h2>
      </ion-col>
    </ion-row>

  <!-- Weight Pmfms -->
  <ion-row>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label class="ion-float-end" translate>PLANIFICATION.WEIGHT</ion-label>
    </ion-col>
    <ion-col>
      <ion-card class="ion-no-margin">
        <app-pmfm-strategies-table #pmfmStrategiesTable
                                   [title]=""
                                   [program]="program"
                                   [canEdit]="enabled"
                                   [canDelete]="enabled"
                                   [canDisplayToolbar]="false"
                                   [canDisplayColumnsHeaders]="false"
                                   [canDisplaySimpleStrategyValidators]="true"
                                   [initializeOneRow]="true"
                                   [sticky]="true"
                                   [showPMFMDetailsColumns]="true">
        </app-pmfm-strategies-table>
      </ion-card>
    </ion-col>
  </ion-row>
  <ion-row style="height: 15px"></ion-row>

  <!-- Size Pmfms -->
  <ion-row>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label class="ion-float-end" translate>PLANIFICATION.SIZE</ion-label>
    </ion-col>
    <ion-col>
      <ion-card class="ion-no-margin">
        <app-pmfm-strategies-table #pmfmStrategiesTable
                                   [title]=""
                                   [program]="program"
                                   [canEdit]="enabled"
                                   [canDelete]="enabled"
                                   [canDisplayToolbar]="false"
                                   [canDisplayColumnsHeaders]="false"
                                   [canDisplaySimpleStrategyValidators]="true"
                                   [initializeOneRow]="true"
                                   [sticky]="true"
                                   [showPMFMDetailsColumns]="true">
        </app-pmfm-strategies-table>
      </ion-card>
    </ion-col>
  </ion-row>
  <ion-row style="height: 15px"></ion-row>

    <!--SEX -->
    <ion-row>
      <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
        <ion-label>&nbsp;</ion-label>
      </ion-col>
      <ion-col size="12" size-sm="auto">
        <mat-boolean-field [placeholder]="'PLANIFICATION.SEX'|translate" formControlName="sex" [required]="true">
        </mat-boolean-field>
      </ion-col>

      <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
        <ion-label>&nbsp;</ion-label>
      </ion-col>
    </ion-row>

  <!-- Maturity Pmfms -->
  <ion-row>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label class="ion-float-end" translate>PLANIFICATION.MATURITY</ion-label>
    </ion-col>
    <ion-col>
      <ion-card class="ion-no-margin">
        <app-pmfm-strategies-table #pmfmStrategiesTable
                                   [title]=""
                                   [program]="program"
                                   [canEdit]="enabled"
                                   [canDelete]="enabled"
                                   [canDisplayToolbar]="false"
                                   [canDisplayColumnsHeaders]="false"
                                   [canDisplaySimpleStrategyValidators]="true"
                                   [initializeOneRow]="true"
                                   [sticky]="true"
                                   [showPMFMDetailsColumns]="true">
        </app-pmfm-strategies-table>
      </ion-card>
    </ion-col>
  </ion-row>
  <ion-row style="height: 15px"></ion-row>

   <!-- AGE -->
   <ion-row>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label>&nbsp;</ion-label>
    </ion-col>
    <ion-col size="12" size-sm="auto">
      <mat-boolean-field [placeholder]="'PLANIFICATION.AGE'|translate" formControlName="age" [required]="true" >
      </mat-boolean-field>
    </ion-col>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label>&nbsp;</ion-label>
    </ion-col>
  </ion-row>

  <!-- Calcified Pmfms -->
  <ion-row>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label class="ion-float-end" translate>PLANIFICATION.CALCIFIED_TYPE</ion-label>
    </ion-col>
    <ion-col>
      <mat-autocomplete-field
        formControlName="calcifiedType"
        [placeholder]="'PLANIFICATION.CALCIFIED_TYPE'|translate"
        [config]="autocompleteFields.calcifiedType"
        [tabindex]="tabindex+1"
        [required]="true">
        <button matAfter type="button" mat-icon-button
          tabindex="-1"
          [disabled]="!canFilterCalcifiedType"
          [title]="'PLANIFICATION.BTN_FILTER'|translate"
          (click)="toggleFilteredCalcifiedType()"
          [color]="enableCalcifiedTypeFilter ? 'primary' : undefined">
          <mat-icon>filter_list</mat-icon>
        </button>
        <button matAfter type="button" mat-icon-button tabindex="-1"
          [title]="'TRIP.BTN_ADD_VESSEL'|translate"
          (click)="add()">
          <mat-icon>add</mat-icon>
        </button>

        <!-- TEST -->
        <button matAfter type="button" mat-icon-button tabindex="-1"
                [title]="'TRIP.BTN_ADD_VESSEL'|translate"
                (click)="close()">
          <mat-icon>close</mat-icon>
        </button>

      </mat-autocomplete-field>
    </ion-col>
    <ion-col size="0" size-md="2" size-lg="3" class="ion-no-padding">
      <ion-label>&nbsp;</ion-label>
    </ion-col>
  </ion-row>








  <!--comment-->
  <ion-row>
    <ion-col>
      <mat-form-field appearance="outline">
        <textarea matInput #comments matTextareaAutosize="true" matAutosizeMinRows="4" maxlength="2000"
                  [placeholder]="'COMMON.COMMENTS'|translate"
                  formControlName="comment" ></textarea>
        <mat-hint align="end">{{comments.value.length}} / 2000</mat-hint>
      </mat-form-field>
    </ion-col>
  </ion-row>
</ion-grid>
</form>
