@import 'ionic.globals';

ion-menu {

  --ion-item-background: transparent;
  --ion-item-divider-background: transparent;
  --ion-item-icon-color: var(--ion-color-primary-tint);
  --ion-item-text-color: var(--ion-color-primary-tint);

  --ion-item-background-selected: var(--ion-color-secondary100);
  --ion-item-text-color-selected: var(--ion-color-secondary100-contrast);
  --ion-item-icon-color-selected: var(--ion-color-secondary100-contrast);

  --ion-item-text-color-disable: var(--ion-color-medium);
  --ion-item-icon-color-disable: var(--ion-color-medium);

  ion-header {

    ion-text {
      color: var(--ion-color-primary);
    }

    .user-avatar {
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-color: var(--ion-color-secondary);
      border: solid 1px var(--ion-color-primary);
      overflow: hidden !important;
      font-size: var(--avatar-size, 60px) !important;
      line-height: var(--avatar-size, 60px);
      height: var(--avatar-size, 60px) !important;
      width: var(--avatar-size, 60px) !important;
      border-radius: 50%;
      display: inline-block;
    }

    .user-logo {
      text-align: right;

      img {
        max-width: 120px;
        max-height: var(--avatar-size, 60px);
        width: auto;
      }
    }

    .username {
      padding-top: 0;
      margin-top: 0;
      margin-bottom: 0;
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    button[mat-button] {
      padding: 0;
      text-align: start !important;
      width: 100%;
    }
  }

  .scroll-content {
    margin-top: 79px !important;
  }

  .has-user-header .scroll-content {
    margin-top: 188px !important;
  }

  ion-content {
    &.has-profile-header {
      --offset-top: 188px;
    }

    &.no-profile-header {
      --offset-top: 79px;
    }

    ion-list {
      min-height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;

      ion-menu-toggle.flex-spacer {
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
      }

      ion-item {

        &.primary {
          --ion-item-icon-color: var(--ion-color-primary-tint);
          --ion-item-text-color: var(--ion-color-primary-tint);
        }
        &.secondary {
          --ion-item-icon-color: var(--ion-color-secondary-tint);
          --ion-item-text-color: var(--ion-color-secondary-tint);
        }
        &.tertiary {
          --ion-item-icon-color: var(--ion-color-tertiary-tint);
          --ion-item-text-color: var(--ion-color-tertiary-tint);
        }
        &.danger {
          --ion-item-icon-color: var(--ion-color-danger-tint);
          --ion-item-text-color: var(--ion-color-danger-tint);
        }
        &.medium {
          --ion-item-icon-color: var(--ion-color-medium-shade);
          --ion-item-text-color: var(--ion-color-medium-shade);
        }
        &.dark {
          --ion-item-icon-color: var(--ion-color-dark-tint);
          --ion-item-text-color: var(--ion-color-dark-tint);
        }
        mat-icon,
        ion-icon {
          color: var(--ion-item-icon-color) !important;
          fill: currentColor;
          stroke: currentColor;
        }

        ion-text,
        ion-label {
          color: var(--ion-item-text-color) !important;
        }
      }

      ion-item.selected {
        background-color: var(--ion-item-background-selected) !important;
        --color-hover:  var(--ion-item-background-selected) !important;

        mat-icon,
        ion-icon {
          color: var(--ion-item-icon-color-selected) !important;
          fill: currentColor;
          stroke: currentColor;
        }

        ion-text,
        ion-label {
          color: var(--ion-item-text-color-selected) !important;
        }

        &:hover {
          --color-hover:  var(--ion-item-background-selected) !important;
          --ion-item-icon-color-selected: var(--ion-item-icon-color) !important;
          --ion-item-text-color-selected: var(--ion-item-text-color) !important;
        }
      }
    }
  }

  ion-footer {
    // Avoid top border to be hide by 'hidden-xs' and 'hidden-sm'
    display: block !important;

    ion-toolbar {

      ion-title {
        cursor: pointer;
        font-size: 12pt;
        font-weight: normal;
        text-align: center;
        padding: 0px 8px;
      }

      ion-button {
        --width: 40px;
      }
    }
  }
}

// Small screen: hide the footer
@media screen and (max-width: $screen-sm-max) {
  ion-menu {
    ion-footer {
      display: none !important;
      visibility: hidden !important;
    }
  }
}

// Medium screen: larger avatar size
@media screen and (min-width: $screen-md) {

  ion-menu {
    ion-scroll {
      overflow-y: auto !important;
    }

    //
    .user-avatar {
      font-size: var(--avatar-size, 80px) !important;
      line-height: var(--avatar-size, 80px);
      height: var(--avatar-size, 80px) !important;
      width: var(--avatar-size, 80px) !important;
    }

    .user-logo {
      img {
        max-height: var(--avatar-size, 80px);
      }
    }
  }
}

// Large screen
@media screen and (min-width: $screen-lg) {

}
